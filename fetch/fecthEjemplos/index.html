<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

    <script>
        let body=document.querySelector("body");
        let user = "https://randomuser.me/api/";
        let provincias = "https://apis.datos.gob.ar/georef/api/provincias"
        // fetch(user)
        // .then(response=>response.json())
        // .then(data=>{
        //     let [user]=data.results;
        //     document.querySelector("body").innerHTML=`
        //     <h3>${user.name.title} ${user.name.first} ${user.name.last}</h3>
        //     <img src="${user.picture.large}">
        //     `
        //     console.log(user);
        // })
        // .catch(error=>console.log(error))

        async function mostrarProvincias() {
            try {
                let response = await fetch(provincias);
                let responseJson = await response.json();
                let pro = responseJson.provincias;
                let body = document.querySelector("body");
                body.innerHTML+=`
                <form>
                    <select id="prov">
                    
                    <select>    
                </form>
                
                `

                pro.map(provincia => {
               let select = document.querySelector("#prov").innerHTML += `
                <option>${provincia.nombre}</option>
            `
          
                })
                let select = document.querySelector("#prov").addEventListener('change',function () {
                alert("Seleccionaste la provincia:" + this.value)
            })
            } catch (error) {
                console.log(error);
            }

        }

        body.innerHTML+=`
        <div>Seleccioneste la provincia: </div>
        `
      

        mostrarProvincias()
        Swal.fire({
            position: "top-end",
            icon: "success",
            title: "Se creo el producto de manera correcta",
            showConfirmButton: false,
            timer: 3000
        });

    </script>
</body>

</html>